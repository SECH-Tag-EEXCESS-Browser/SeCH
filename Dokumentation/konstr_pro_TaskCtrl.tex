%\part{Konstruktion}
%\chapter{Programmlogik}

\section{TaskCtrl}

Der TaskCtrl ist einer der wichtigsten Elemente bei der Kommunikation zwischen der Oberfläche und dem Abrufen der Daten aus dem Internet. Er bestimmt mit Hilfe der vom Nutzer getroffenen Einstellungen an welche Suchmaschine die Anfrage geschickt wird. Die Einstellungen werden durch das \glqq Settings.bundle\grqq\ definiert und können durch die Klasse \glqq SettingsManager\grqq\ abgerufen werden. Der TaskCtrl wird von der Klasse \glqq SearchResults\grqq\ initialisiert und aufgerufen. Zuerst wird unter Verwendung der Klasse \glqq QueryCreationCtrl \grqq\xspace ein allgemeingültiges Format für die Suchanfragen erstellt. Dieses allgemeingültige Format wird anschließend von den jeweiligen \glqq QueryBuildern\grqq\xspace (EEXCESS\_JSONBuilder, DuckDuckGoURLBuilder und FarooURLBuilder) in das für die jeweilige Suchmaschine passende Format umgewandelt. Die Suchanfragen werden asynchron durch die entsprechenden \glqq ConnectionCtrls \grqq\xspace (JSONConnectionCtrl und URLConnectionCtrl) versendet. Bei erfolgreicher Suche und nach erfolgreichem Parsen der Ergebnisse werden diese mit Aufruf der Methode \glqq setRecommendation(status:String, message:String, result:SearchResult) \grqq\xspace an den Aufrufer, die Klasse SearchResults, zurückgegeben. Diese speichert die Suchergebnisse in einem Cache zwischen. Der TaskCtrl wird nur aufgerufen, falls zu dem jeweiligen \SEARCH-Tag noch keine Ergebnisse im Cache vorhanden sind. 

%\subsection{Teilabschnitt}
%\subsubsection{Unterteilabschnitt}
%\paragraph{Paragraph}
%\subparagraph{Unterparagraph}
